<?php// Debug espec√≠fico para o tokenecho "<h1>üîç Debug do Token</h1>";// 1. Testar login e obter tokenecho "<h2>1. Teste de Login:</h2>";$loginData = json_encode([    'username' => 'admin',    'password' => 'Controll IT@10']);$context = stream_context_create([    'http' => [        'method' => 'POST',        'header' => 'Content-Type: application/json',        'content' => $loginData    ]]);try {    $response = file_get_contents('http://localhost/sistema-web-Controll IT/api/auth.php?action=login', false, $context);        if ($response === false) {        echo "<p style='color: red;'>‚ùå Erro ao conectar com API de login</p>";    } else {        $data = json_decode($response, true);        echo "<p>Resposta do login:</p>";        echo "<pre>" . htmlspecialchars($response) . "</pre>";                if ($data && isset($data['success']) && $data['success']) {            echo "<p style='color: green;'>‚úÖ Login funcionando!</p>";            $token = $data['data']['token'];            echo "<p>Token: " . substr($token, 0, 50) . "...</p>";                        // 2. Testar profile com token            echo "<h2>2. Teste de Profile com Token:</h2>";                        $profileContext = stream_context_create([                'http' => [                    'method' => 'GET',                    'header' => 'Authorization: Bearer ' . $token . "\r\n" .                               'Content-Type: application/json'                ]            ]);                        $profileResponse = file_get_contents('http://localhost/sistema-web-Controll IT/api/auth.php?action=profile', false, $profileContext);                        if ($profileResponse === false) {                echo "<p style='color: red;'>‚ùå Erro ao conectar com API de profile</p>";            } else {                $profileData = json_decode($profileResponse, true);                echo "<p>Resposta da API de profile:</p>";                echo "<pre>" . htmlspecialchars($profileResponse) . "</pre>";                                if ($profileData && isset($profileData['success']) && $profileData['success']) {                    echo "<p style='color: green;'>‚úÖ Profile funcionando!</p>";                } else {                    echo "<p style='color: red;'>‚ùå Profile falhou</p>";                }            }        } else {            echo "<p style='color: red;'>‚ùå Login falhou</p>";        }    }} catch (Exception $e) {    echo "<p style='color: red;'>‚ùå Erro: " . $e->getMessage() . "</p>";}// 3. Testar headers manualmenteecho "<h2>3. Teste de Headers:</h2>";echo "<p>Testando se getallheaders() funciona:</p>";$testHeaders = getallheaders();if ($testHeaders) {    echo "<p style='color: green;'>‚úÖ getallheaders() funcionando</p>";    echo "<pre>" . print_r($testHeaders, true) . "</pre>";} else {    echo "<p style='color: red;'>‚ùå getallheaders() n√£o funcionando</p>";}// 4. Testar alternativa para headersecho "<h2>4. Teste Alternativo de Headers:</h2>";echo "<p>Headers via \$_SERVER:</p>";echo "<pre>";foreach ($_SERVER as $key => $value) {    if (strpos($key, 'HTTP_') === 0) {        echo $key . ": " . $value . "\n";    }}echo "</pre>";echo "<hr>";echo "<h2>üìã Pr√≥ximos Passos:</h2>";echo "<ol>";echo "<li>Verifique se o login est√° funcionando</li>";echo "<li>Verifique se o token est√° sendo gerado</li>";echo "<li>Verifique se o profile est√° funcionando com o token</li>";echo "<li>Se houver problemas, me informe os resultados</li>";echo "</ol>";?>