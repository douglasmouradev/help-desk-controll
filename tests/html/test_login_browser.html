<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste de Login - Controll IT Help Desk</title>    <style>        body {            font-family: Arial, sans-serif;            max-width: 800px;            margin: 0 auto;            padding: 20px;            background-color: #f5f5f5;        }        .container {            background: white;            padding: 30px;            border-radius: 10px;            box-shadow: 0 2px 10px rgba(0,0,0,0.1);        }        h1 {            color: #333;            text-align: center;            margin-bottom: 30px;        }        .test-section {            margin: 20px 0;            padding: 20px;            border: 1px solid #ddd;            border-radius: 5px;            background: #f9f9f9;        }        .test-section h3 {            margin-top: 0;            color: #555;        }        button {            background: #007bff;            color: white;            border: none;            padding: 10px 20px;            border-radius: 5px;            cursor: pointer;            margin: 5px;        }        button:hover {            background: #0056b3;        }        .result {            margin: 10px 0;            padding: 10px;            border-radius: 5px;            font-family: monospace;        }        .success {            background: #d4edda;            color: #155724;            border: 1px solid #c3e6cb;        }        .error {            background: #f8d7da;            color: #721c24;            border: 1px solid #f5c6cb;        }        .info {            background: #d1ecf1;            color: #0c5460;            border: 1px solid #bee5eb;        }        input {            width: 100%;            padding: 10px;            margin: 5px 0;            border: 1px solid #ddd;            border-radius: 5px;            box-sizing: border-box;        }        .credentials {            background: #fff3cd;            border: 1px solid #ffeaa7;            padding: 15px;            border-radius: 5px;            margin: 20px 0;        }    </style></head><body>    <div class="container">        <h1>üîß Teste de Login - Controll IT Help Desk</h1>                <div class="credentials">            <h3>üìã Credenciais de Teste</h3>            <p><strong>Usu√°rio:</strong> admin</p>            <p><strong>Senha:</strong> senha123</p>            <p><strong>Email:</strong> admin@controllit.com.br</p>        </div>        <div class="test-section">            <h3>1. Teste de Conex√£o com API</h3>            <button onclick="testConnection()">Testar Conex√£o</button>            <div id="connectionResult" class="result" style="display:none;"></div>        </div>        <div class="test-section">            <h3>2. Teste de Login</h3>            <input type="text" id="username" placeholder="Usu√°rio" value="admin">            <input type="password" id="password" placeholder="Senha" value="senha123">            <button onclick="testLogin()">Testar Login</button>            <div id="loginResult" class="result" style="display:none;"></div>        </div>        <div class="test-section">            <h3>3. Teste de Verifica√ß√£o de Token</h3>            <button onclick="testToken()">Verificar Token</button>            <div id="tokenResult" class="result" style="display:none;"></div>        </div>        <div class="test-section">            <h3>4. Teste Completo do Sistema</h3>            <button onclick="testComplete()">Executar Teste Completo</button>            <div id="completeResult" class="result" style="display:none;"></div>        </div>    </div>    <script>        const API_BASE = window.location.origin + '/api';        let authToken = localStorage.getItem('authToken');        function showResult(elementId, message, type = 'info') {            const element = document.getElementById(elementId);            element.style.display = 'block';            element.className = `result ${type}`;            element.innerHTML = message;        }        async function testConnection() {            try {                showResult('connectionResult', 'üîÑ Testando conex√£o...', 'info');                                const response = await fetch(`${API_BASE}/auth.php`, {                    method: 'GET',                    headers: {                        'Content-Type': 'application/json'                    }                });                                if (response.ok) {                    showResult('connectionResult', '‚úÖ Conex√£o com API funcionando!', 'success');                } else {                    showResult('connectionResult', `‚ùå Erro na conex√£o: ${response.status}`, 'error');                }            } catch (error) {                showResult('connectionResult', `‚ùå Erro: ${error.message}`, 'error');            }        }        async function testLogin() {            try {                const username = document.getElementById('username').value;                const password = document.getElementById('password').value;                                showResult('loginResult', 'üîÑ Testando login...', 'info');                                const response = await fetch(`${API_BASE}/auth.php`, {                    method: 'POST',                    headers: {                        'Content-Type': 'application/json'                    },                    body: JSON.stringify({                        action: 'login',                        username: username,                        password: password                    })                });                                const data = await response.json();                                if (data.success) {                    authToken = data.data.token;                    localStorage.setItem('authToken', authToken);                    showResult('loginResult', `‚úÖ Login realizado com sucesso!<br>Token: ${authToken.substring(0, 50)}...`, 'success');                } else {                    showResult('loginResult', `‚ùå Erro no login: ${data.message}`, 'error');                }            } catch (error) {                showResult('loginResult', `‚ùå Erro: ${error.message}`, 'error');            }        }        async function testToken() {            try {                if (!authToken) {                    showResult('tokenResult', '‚ùå Nenhum token encontrado. Fa√ßa login primeiro.', 'error');                    return;                }                                showResult('tokenResult', 'üîÑ Verificando token...', 'info');                                const response = await fetch(`${API_BASE}/auth.php`, {                    method: 'GET',                    headers: {                        'Authorization': `Bearer ${authToken}`,                        'Content-Type': 'application/json'                    }                });                                const data = await response.json();                                if (data.success) {                    showResult('tokenResult', `‚úÖ Token v√°lido!<br>Usu√°rio: ${data.data.username}<br>Tipo: ${data.data.type}`, 'success');                } else {                    showResult('tokenResult', `‚ùå Token inv√°lido: ${data.message}`, 'error');                }            } catch (error) {                showResult('tokenResult', `‚ùå Erro: ${error.message}`, 'error');            }        }        async function testComplete() {            try {                showResult('completeResult', 'üîÑ Executando teste completo...', 'info');                                let results = [];                                // Teste 1: Conex√£o                try {                    const connResponse = await fetch(`${API_BASE}/auth.php`);                    if (connResponse.ok) {                        results.push('‚úÖ Conex√£o com API: OK');                    } else {                        results.push('‚ùå Conex√£o com API: FALHOU');                    }                } catch (e) {                    results.push('‚ùå Conex√£o com API: ERRO');                }                                // Teste 2: Login                try {                    const loginResponse = await fetch(`${API_BASE}/auth.php`, {                        method: 'POST',                        headers: { 'Content-Type': 'application/json' },                        body: JSON.stringify({                            action: 'login',                            username: 'admin',                            password: 'senha123'                        })                    });                                        const loginData = await loginResponse.json();                    if (loginData.success) {                        results.push('‚úÖ Login: OK');                        authToken = loginData.data.token;                    } else {                        results.push('‚ùå Login: FALHOU');                    }                } catch (e) {                    results.push('‚ùå Login: ERRO');                }                                // Teste 3: Verifica√ß√£o de Token                if (authToken) {                    try {                        const tokenResponse = await fetch(`${API_BASE}/auth.php`, {                            headers: { 'Authorization': `Bearer ${authToken}` }                        });                                                const tokenData = await tokenResponse.json();                        if (tokenData.success) {                            results.push('‚úÖ Verifica√ß√£o de Token: OK');                        } else {                            results.push('‚ùå Verifica√ß√£o de Token: FALHOU');                        }                    } catch (e) {                        results.push('‚ùå Verifica√ß√£o de Token: ERRO');                    }                }                                const allSuccess = results.every(r => r.includes('‚úÖ'));                const resultType = allSuccess ? 'success' : 'error';                const resultMessage = results.join('<br>');                                showResult('completeResult', resultMessage, resultType);                            } catch (error) {                showResult('completeResult', `‚ùå Erro no teste completo: ${error.message}`, 'error');            }        }        // Verificar se j√° existe um token        if (authToken) {            document.getElementById('username').value = 'admin';            document.getElementById('password').value = 'senha123';        }    </script></body></html>