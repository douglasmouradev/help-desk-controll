<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste Simples - Login e Tickets</title>    <style>        body { font-family: Arial, sans-serif; margin: 20px; }        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }        .success { color: green; }        .error { color: red; }        .info { color: blue; }        button { padding: 10px 20px; margin: 5px; }        #result { margin-top: 20px; padding: 10px; background: #f5f5f5; }    </style></head><body>    <h1>üß™ Teste Simples - Login e Tickets</h1>        <div class="test-section">        <h2>1. Teste de Login</h2>        <button onclick="testLogin()">Testar Login (admin/Controll IT@10)</button>        <div id="loginResult"></div>    </div>        <div class="test-section">        <h2>2. Teste de API de Tickets</h2>        <button onclick="testTicketsAPI()">Testar API de Tickets</button>        <div id="ticketsResult"></div>    </div>        <div class="test-section">        <h2>3. Teste Completo</h2>        <button onclick="testComplete()">Teste Completo (Login + Tickets)</button>        <div id="completeResult"></div>    </div>        <div id="result"></div>    <script>        let authToken = null;        let currentUser = null;        async function apiCall(endpoint, method = 'GET', data = null, requiresAuth = true) {            const url = 'api/' + endpoint;            const options = {                method: method,                headers: {                    'Content-Type': 'application/json',                }            };                        if (requiresAuth && authToken) {                options.headers['Authorization'] = 'Bearer ' + authToken;            }                        if (data) {                options.body = JSON.stringify(data);            }                        try {                const response = await fetch(url, options);                const result = await response.json();                                if (!response.ok) {                    throw new Error(result.message || 'Erro na requisi√ß√£o');                }                                return result;            } catch (error) {                console.error('Erro na API:', error);                throw error;            }        }        async function testLogin() {            const resultDiv = document.getElementById('loginResult');            resultDiv.innerHTML = '<p class="info">Testando login...</p>';                        try {                const result = await apiCall('auth.php?action=login', 'POST', {                    username: 'admin',                    password: 'Controll IT@10'                }, false);                                if (result.success && result.data) {                    authToken = result.data.token;                    currentUser = result.data.user;                    resultDiv.innerHTML = '<p class="success">‚úÖ Login bem-sucedido!</p>';                    resultDiv.innerHTML += '<p>Usu√°rio: ' + currentUser.name + '</p>';                    resultDiv.innerHTML += '<p>Tipo: ' + currentUser.type + '</p>';                } else {                    resultDiv.innerHTML = '<p class="error">‚ùå Login falhou</p>';                }            } catch (error) {                resultDiv.innerHTML = '<p class="error">‚ùå Erro no login: ' + error.message + '</p>';            }        }        async function testTicketsAPI() {            const resultDiv = document.getElementById('ticketsResult');            resultDiv.innerHTML = '<p class="info">Testando API de tickets...</p>';                        try {                const result = await apiCall('tickets.php?action=list');                                if (result.success && result.data) {                    resultDiv.innerHTML = '<p class="success">‚úÖ API de tickets funcionando!</p>';                    resultDiv.innerHTML += '<p>Total de tickets: ' + result.data.length + '</p>';                                        if (result.data.length > 0) {                        resultDiv.innerHTML += '<h4>Primeiros 3 tickets:</h4>';                        resultDiv.innerHTML += '<ul>';                        for (let i = 0; i < Math.min(3, result.data.length); i++) {                            const ticket = result.data[i];                            resultDiv.innerHTML += '<li>#' + ticket.id + ' - ' + ticket.title + ' (' + ticket.status + ')</li>';                        }                        resultDiv.innerHTML += '</ul>';                    }                } else {                    resultDiv.innerHTML = '<p class="error">‚ùå API de tickets falhou</p>';                }            } catch (error) {                resultDiv.innerHTML = '<p class="error">‚ùå Erro na API de tickets: ' + error.message + '</p>';            }        }        async function testComplete() {            const resultDiv = document.getElementById('completeResult');            resultDiv.innerHTML = '<p class="info">Executando teste completo...</p>';                        try {                // 1. Login                resultDiv.innerHTML += '<p>1. Testando login...</p>';                const loginResult = await apiCall('auth.php?action=login', 'POST', {                    username: 'admin',                    password: 'Controll IT@10'                }, false);                                if (!loginResult.success) {                    throw new Error('Login falhou');                }                                authToken = loginResult.data.token;                currentUser = loginResult.data.user;                resultDiv.innerHTML += '<p class="success">‚úÖ Login OK</p>';                                // 2. Tickets                resultDiv.innerHTML += '<p>2. Testando API de tickets...</p>';                const ticketsResult = await apiCall('tickets.php?action=list');                                if (!ticketsResult.success) {                    throw new Error('API de tickets falhou');                }                                resultDiv.innerHTML += '<p class="success">‚úÖ API de tickets OK</p>';                resultDiv.innerHTML += '<p>Total de tickets: ' + ticketsResult.data.length + '</p>';                                resultDiv.innerHTML += '<p class="success">üéâ Teste completo bem-sucedido!</p>';                            } catch (error) {                resultDiv.innerHTML += '<p class="error">‚ùå Erro no teste completo: ' + error.message + '</p>';            }        }    </script></body></html>