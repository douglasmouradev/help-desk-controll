<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste Simples CEP</title>    <style>        body {            font-family: Arial, sans-serif;            max-width: 600px;            margin: 50px auto;            padding: 20px;        }        .form-group {            margin-bottom: 15px;        }        label {            display: block;            margin-bottom: 5px;            font-weight: bold;        }        input {            width: 100%;            padding: 8px;            border: 1px solid #ddd;            border-radius: 4px;            box-sizing: border-box;        }        button {            background-color: #007bff;            color: white;            padding: 10px 20px;            border: none;            border-radius: 4px;            cursor: pointer;            margin-top: 10px;        }        button:hover {            background-color: #0056b3;        }        .log {            background-color: #f8f9fa;            padding: 15px;            border-radius: 4px;            margin-top: 20px;            font-family: monospace;            font-size: 12px;            max-height: 300px;            overflow-y: auto;            border: 1px solid #ddd;        }    </style></head><body>    <h1>Teste Simples de Busca de CEP</h1>        <div class="form-group">        <label for="zipcode">CEP:</label>        <input type="text" id="zipcode" placeholder="Digite o CEP (ex: 01310-100)" maxlength="9">        <button type="button" id="searchBtn">Buscar CEP</button>    </div>        <div class="form-group">        <label for="address">Endereço:</label>        <input type="text" id="address" readonly>    </div>        <div class="form-group">        <label for="city">Cidade:</label>        <input type="text" id="city" readonly>    </div>        <div class="form-group">        <label for="state">Estado:</label>        <input type="text" id="state" readonly>    </div>        <div class="log" id="log">        Aguardando teste...    </div>    <script>        function log(message) {            const logDiv = document.getElementById('log');            const timestamp = new Date().toLocaleTimeString();            logDiv.innerHTML += `[${timestamp}] ${message}<br>`;            logDiv.scrollTop = logDiv.scrollHeight;        }        async function searchCep() {            log('=== INICIANDO BUSCA DE CEP ===');                        const zipcodeInput = document.getElementById('zipcode');            const addressInput = document.getElementById('address');            const cityInput = document.getElementById('city');            const stateInput = document.getElementById('state');                        if (!zipcodeInput) {                log('ERRO: Campo CEP não encontrado');                return;            }                        const zipcode = zipcodeInput.value.replace(/\D/g, '');            log(`CEP digitado: ${zipcode}`);                        if (zipcode.length !== 8) {                log('ERRO: CEP deve ter 8 dígitos');                alert('CEP deve ter 8 dígitos');                return;            }                        try {                log('Fazendo requisição para ViaCEP...');                const url = `https://viacep.com.br/ws/${zipcode}/json/`;                log(`URL: ${url}`);                                const response = await fetch(url);                log(`Status: ${response.status}`);                                if (!response.ok) {                    throw new Error(`HTTP ${response.status}`);                }                                const data = await response.json();                log(`Dados recebidos: ${JSON.stringify(data)}`);                                if (data.erro) {                    log('ERRO: CEP não encontrado');                    alert('CEP não encontrado');                    return;                }                                // Preencher campos                if (addressInput) {                    let endereco = data.logradouro || '';                    if (data.complemento) endereco += ', ' + data.complemento;                    if (data.bairro) endereco += ' - ' + data.bairro;                    addressInput.value = endereco.trim();                    log(`Endereço preenchido: ${addressInput.value}`);                }                                if (cityInput) {                    cityInput.value = data.localidade || '';                    log(`Cidade preenchida: ${cityInput.value}`);                }                                if (stateInput) {                    stateInput.value = data.uf || '';                    log(`Estado preenchido: ${stateInput.value}`);                }                                log('SUCESSO: Campos preenchidos!');                            } catch (error) {                log(`ERRO: ${error.message}`);                alert('Erro: ' + error.message);            }        }        // Event listeners        document.getElementById('searchBtn').addEventListener('click', searchCep);                // Formatação automática do CEP        document.getElementById('zipcode').addEventListener('input', function(e) {            let value = e.target.value.replace(/\D/g, '');            if (value.length >= 5) {                e.target.value = value.replace(/(\d{5})(\d{0,3})/, '$1-$2');            } else {                e.target.value = value;            }                        // Busca automática            if (value.length === 8) {                log('CEP completo detectado, buscando automaticamente...');                setTimeout(searchCep, 500);            }        });                log('Página carregada e listeners configurados');    </script></body></html>