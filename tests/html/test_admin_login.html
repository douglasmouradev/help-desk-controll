<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste de Login Admin</title>    <style>        body { font-family: Arial, sans-serif; margin: 20px; }        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }        .success { color: green; }        .error { color: red; }        .info { color: blue; }        button { padding: 10px 20px; margin: 5px; }        #result { margin-top: 20px; padding: 10px; background: #f5f5f5; }    </style></head><body>    <h1>üß™ Teste de Login Admin</h1>        <div class="test-section">        <h2>1. Teste de Login Admin</h2>        <button onclick="testAdminLogin()">Testar Login Admin</button>        <div id="loginResult"></div>    </div>        <div class="test-section">        <h2>2. Teste de Profile Admin</h2>        <button onclick="testAdminProfile()">Testar Profile Admin</button>        <div id="profileResult"></div>    </div>        <div class="test-section">        <h2>3. Teste Completo Admin</h2>        <button onclick="testCompleteAdmin()">Teste Completo</button>        <div id="completeResult"></div>    </div>        <div id="result"></div>    <script>        let authToken = null;        let currentUser = null;        async function apiCall(endpoint, method = 'GET', data = null, requiresAuth = true) {            const url = 'api/' + endpoint;            const options = {                method: method,                headers: {                    'Content-Type': 'application/json',                }            };                        if (requiresAuth && authToken) {                options.headers['Authorization'] = 'Bearer ' + authToken;            }                        if (data) {                options.body = JSON.stringify(data);            }                        try {                const response = await fetch(url, options);                const result = await response.json();                                if (!response.ok) {                    throw new Error(result.message || 'Erro na requisi√ß√£o');                }                                return result;            } catch (error) {                console.error('Erro na API:', error);                throw error;            }        }        async function testAdminLogin() {            const resultDiv = document.getElementById('loginResult');            resultDiv.innerHTML = '<p class="info">Testando login admin...</p>';                        try {                const result = await apiCall('auth.php?action=login', 'POST', {                    username: 'admin',                    password: 'Controll IT@10'                }, false);                                if (result.success && result.data) {                    authToken = result.data.token;                    currentUser = result.data.user;                    resultDiv.innerHTML = '<p class="success">‚úÖ Login admin bem-sucedido!</p>';                    resultDiv.innerHTML += '<p>Usu√°rio: ' + currentUser.name + '</p>';                    resultDiv.innerHTML += '<p>Tipo: ' + currentUser.type + '</p>';                    resultDiv.innerHTML += '<p>ID: ' + currentUser.id + '</p>';                } else {                    resultDiv.innerHTML = '<p class="error">‚ùå Login admin falhou</p>';                }            } catch (error) {                resultDiv.innerHTML = '<p class="error">‚ùå Erro no login admin: ' + error.message + '</p>';            }        }        async function testAdminProfile() {            const resultDiv = document.getElementById('profileResult');            resultDiv.innerHTML = '<p class="info">Testando profile admin...</p>';                        if (!authToken) {                resultDiv.innerHTML = '<p class="error">‚ùå Fa√ßa login primeiro</p>';                return;            }                        try {                const result = await apiCall('auth.php?action=profile', 'GET', null, true);                                if (result.success && result.data) {                    resultDiv.innerHTML = '<p class="success">‚úÖ Profile admin funcionando!</p>';                    resultDiv.innerHTML += '<p>Usu√°rio: ' + result.data.name + '</p>';                    resultDiv.innerHTML += '<p>Tipo: ' + result.data.type + '</p>';                } else {                    resultDiv.innerHTML = '<p class="error">‚ùå Profile admin falhou</p>';                }            } catch (error) {                resultDiv.innerHTML = '<p class="error">‚ùå Erro no profile admin: ' + error.message + '</p>';            }        }        async function testCompleteAdmin() {            const resultDiv = document.getElementById('completeResult');            resultDiv.innerHTML = '<p class="info">Executando teste completo admin...</p>';                        try {                // 1. Login                resultDiv.innerHTML += '<p>1. Testando login admin...</p>';                const loginResult = await apiCall('auth.php?action=login', 'POST', {                    username: 'admin',                    password: 'Controll IT@10'                }, false);                                if (!loginResult.success) {                    throw new Error('Login falhou');                }                                authToken = loginResult.data.token;                currentUser = loginResult.data.user;                resultDiv.innerHTML += '<p class="success">‚úÖ Login admin OK</p>';                                // 2. Profile                resultDiv.innerHTML += '<p>2. Testando profile admin...</p>';                const profileResult = await apiCall('auth.php?action=profile', 'GET', null, true);                                if (!profileResult.success) {                    throw new Error('Profile falhou');                }                                resultDiv.innerHTML += '<p class="success">‚úÖ Profile admin OK</p>';                                // 3. Verificar tipo de usu√°rio                resultDiv.innerHTML += '<p>3. Verificando tipo de usu√°rio...</p>';                if (currentUser.type === 'admin') {                    resultDiv.innerHTML += '<p class="success">‚úÖ Tipo admin correto</p>';                } else {                    resultDiv.innerHTML += '<p class="error">‚ùå Tipo incorreto: ' + currentUser.type + '</p>';                }                                resultDiv.innerHTML += '<p class="success">üéâ Teste completo admin bem-sucedido!</p>';                            } catch (error) {                resultDiv.innerHTML += '<p class="error">‚ùå Erro no teste completo: ' + error.message + '</p>';            }        }    </script></body></html>