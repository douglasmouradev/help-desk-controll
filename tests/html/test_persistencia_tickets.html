<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste de Persistência de Tickets</title>    <style>        body {            font-family: Arial, sans-serif;            max-width: 800px;            margin: 0 auto;            padding: 20px;        }        .test-section {            border: 1px solid #ddd;            padding: 15px;            margin-bottom: 20px;            border-radius: 4px;        }        .log {            background-color: #f8f9fa;            padding: 15px;            border-radius: 4px;            margin-top: 20px;            font-family: monospace;            font-size: 12px;            max-height: 300px;            overflow-y: auto;            border: 1px solid #ddd;        }        button {            background-color: #007bff;            color: white;            padding: 10px 15px;            border: none;            border-radius: 4px;            cursor: pointer;            margin: 5px;        }        button:hover {            background-color: #0056b3;        }        .ticket {            border: 1px solid #ddd;            padding: 10px;            margin: 5px 0;            border-radius: 4px;            background-color: #f9f9f9;        }    </style></head><body>    <h1>Teste de Persistência de Tickets</h1>        <div class="test-section">        <h3>Controles de Teste</h3>        <button onclick="criarTicketTeste()">Criar Ticket de Teste</button>        <button onclick="listarTickets()">Listar Tickets</button>        <button onclick="limparDados()">Limpar Dados</button>        <button onclick="verificarLocalStorage()">Verificar localStorage</button>    </div>        <div class="test-section">        <h3>Tickets Atuais</h3>        <div id="ticketsList">            Carregando...        </div>    </div>        <div class="log" id="log">        Aguardando teste...    </div>    <script>        // Simular o sistema de tickets        let tickets = [];        let currentUser = { id: 1, name: 'Usuário Teste', type: 'user' };        function log(message) {            const logDiv = document.getElementById('log');            const timestamp = new Date().toLocaleTimeString();            logDiv.innerHTML += `[${timestamp}] ${message}<br>`;            logDiv.scrollTop = logDiv.scrollHeight;        }        function saveData() {            localStorage.setItem('tickets', JSON.stringify(tickets));            localStorage.setItem('currentUser', JSON.stringify(currentUser));            log('Dados salvos no localStorage');        }        function loadSavedData() {            const savedTickets = localStorage.getItem('tickets');            const savedUser = localStorage.getItem('currentUser');                        if (savedTickets) {                tickets = JSON.parse(savedTickets);                log(`Carregados ${tickets.length} tickets do localStorage`);            } else {                log('Nenhum ticket encontrado no localStorage');            }                        if (savedUser) {                currentUser = JSON.parse(savedUser);                log(`Usuário carregado: ${currentUser.name}`);            }        }        function criarTicketTeste() {            const ticket = {                id: tickets.length + 1,                title: `Ticket de Teste ${new Date().toLocaleTimeString()}`,                description: 'Este é um ticket de teste para verificar persistência',                status: 'aberto',                priority: 'media',                category: 'software',                userId: currentUser.id,                createdAt: new Date().toISOString()            };                        tickets.push(ticket);            saveData();            listarTickets();            log(`Ticket criado: ${ticket.title}`);        }        function listarTickets() {            const ticketsDiv = document.getElementById('ticketsList');                        if (tickets.length === 0) {                ticketsDiv.innerHTML = '<p>Nenhum ticket encontrado</p>';                return;            }                        ticketsDiv.innerHTML = tickets.map(ticket => `                <div class="ticket">                    <strong>#${ticket.id}</strong> - ${ticket.title}<br>                    <small>Status: ${ticket.status} | Prioridade: ${ticket.priority} | Criado: ${new Date(ticket.createdAt).toLocaleString()}</small>                </div>            `).join('');                        log(`Listados ${tickets.length} tickets`);        }        function limparDados() {            if (confirm('Tem certeza que deseja limpar todos os dados?')) {                localStorage.removeItem('tickets');                localStorage.removeItem('currentUser');                tickets = [];                listarTickets();                log('Dados limpos do localStorage');            }        }        function verificarLocalStorage() {            const savedTickets = localStorage.getItem('tickets');            const savedUser = localStorage.getItem('currentUser');                        log('=== VERIFICAÇÃO DO LOCALSTORAGE ===');            log(`Tickets salvos: ${savedTickets ? 'Sim' : 'Não'}`);            if (savedTickets) {                const parsedTickets = JSON.parse(savedTickets);                log(`Quantidade de tickets: ${parsedTickets.length}`);                log(`Tickets: ${JSON.stringify(parsedTickets, null, 2)}`);            }                        log(`Usuário salvo: ${savedUser ? 'Sim' : 'Não'}`);            if (savedUser) {                const parsedUser = JSON.parse(savedUser);                log(`Usuário: ${JSON.stringify(parsedUser, null, 2)}`);            }        }        // Inicialização        document.addEventListener('DOMContentLoaded', function() {            log('Página carregada, inicializando...');            loadSavedData();            listarTickets();            log('Sistema inicializado. Teste criando tickets e fechando/abrindo o navegador.');        });    </script></body></html>