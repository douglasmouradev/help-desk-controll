<!DOCTYPE html><html lang="pt-BR"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Teste - Cadastro de Técnicos</title>    <style>        body { font-family: Arial, sans-serif; margin: 20px; }        .form-group { margin: 10px 0; }        label { display: block; margin-bottom: 5px; }        input, select { width: 100%; padding: 8px; margin-bottom: 10px; }        button { background: #007bff; color: white; padding: 10px 20px; border: none; cursor: pointer; }        button:hover { background: #0056b3; }        .error { color: red; }        .success { color: green; }    </style></head><body>    <h1>Teste - Cadastro de Técnicos</h1>        <form id="technicianRegisterForm">        <div class="form-group">            <label for="tecNome">NOME *</label>            <input type="text" id="tecNome" name="name" required>        </div>                <div class="form-group">            <label for="tecEmail">EMAIL *</label>            <input type="email" id="tecEmail" name="email" required>        </div>                <div class="form-group">            <label for="tecCpf">CPF *</label>            <input type="text" id="tecCpf" name="cpf" required>        </div>                <div class="form-group">            <label for="tecSenha">SENHA *</label>            <input type="password" id="tecSenha" name="password" required>        </div>                <button type="submit">Cadastrar Técnico</button>    </form>        <div id="result"></div>        <script>        // Função de teste simplificada        async function submitTechnicianRegister(e) {            e.preventDefault();            console.log('=== SUBMIT TÉCNICO INICIADO ===');                        const form = e.target;            const formData = new FormData(form);                        const name = formData.get('name');            const email = formData.get('email');            const password = formData.get('password');            const cpfRaw = (formData.get('cpf') || '').toString();            const username = cpfRaw.replace(/\D/g, '') || (email ? email.split('@')[0] : 'tecnico');                        if (!name || !email || !password || !username) {                document.getElementById('result').innerHTML = '<div class="error">Preencha nome, email, CPF e senha.</div>';                return;            }                        try {                const payload = {                    name,                    email,                    username,                    password,                    cpf: formData.get('cpf') || null                };                                console.log('Enviando payload:', payload);                                const resp = await fetch('/api/technicians.php', {                    method: 'POST',                    headers: { 'Content-Type': 'application/json' },                    body: JSON.stringify(payload)                });                                const result = await resp.json();                console.log('Resposta da API:', result);                                if (!resp.ok || result.success === false) {                    throw new Error(result.message || 'Erro ao cadastrar técnico');                }                                document.getElementById('result').innerHTML = '<div class="success">Técnico cadastrado com sucesso!</div>';                form.reset();                            } catch (err) {                console.error('Erro:', err);                document.getElementById('result').innerHTML = '<div class="error">Falha no cadastro: ' + err.message + '</div>';            }        }                // Configurar listener        document.getElementById('technicianRegisterForm').addEventListener('submit', submitTechnicianRegister);                // Máscara CPF        document.getElementById('tecCpf').addEventListener('input', function(e) {            let v = e.target.value.replace(/\D/g, '').slice(0,11);            v = v.replace(/(\d{3})(\d)/, '$1.$2');            v = v.replace(/(\d{3})(\d)/, '$1.$2');            v = v.replace(/(\d{3})(\d{1,2})$/, '$1-$2');            e.target.value = v;        });                console.log('Script de teste carregado');    </script></body></html>