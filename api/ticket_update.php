<?php// API simples para atualizar um ticketheader('Content-Type: application/json; charset=utf-8');try {    require_once 'config.php';        $db = new Database();    $conn = $db->getConnection();        // Obter ID do ticket da URL    $ticketId = $_GET['id'] ?? null;        if (!$ticketId) {        echo json_encode([            'success' => false,            'message' => 'ID do ticket não fornecido',            'data' => null        ]);        exit;    }        // Obter dados do POST    $input = json_decode(file_get_contents('php://input'), true);        if (!$input) {        echo json_encode([            'success' => false,            'message' => 'Dados inválidos',            'data' => null        ]);        exit;    }        $title = $input['title'] ?? null;    $description = $input['description'] ?? null;    $priority = $input['priority'] ?? null;    $status = $input['status'] ?? null;        if (!$title || !$description || !$priority || !$status) {        echo json_encode([            'success' => false,            'message' => 'Título, descrição, prioridade e status são obrigatórios',            'data' => null        ]);        exit;    }        // Atualizar o ticket    $query = "        UPDATE tickets        SET title = ?, description = ?, priority = ?, status = ?, updated_at = NOW()        WHERE id = ?    ";        $stmt = $conn->prepare($query);    $stmt->execute([$title, $description, $priority, $status, $ticketId]);        if ($stmt->rowCount() === 0) {        echo json_encode([            'success' => false,            'message' => 'Ticket não encontrado ou nenhum dado alterado',            'data' => null        ]);        exit;    }        echo json_encode([        'success' => true,        'message' => 'Ticket atualizado com sucesso',        'data' => null    ]);    } catch (Exception $e) {    echo json_encode([        'success' => false,        'message' => 'Erro: ' . $e->getMessage(),        'data' => null    ]);}?>