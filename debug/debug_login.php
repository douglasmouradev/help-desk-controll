<?php// Script de debug para verificar o problema de loginrequire_once 'api/config-local.php';try {    $db = new Database();    $conn = $db->getConnection();        echo "🔍 Verificando conexão com o banco...\n";        // Verificar se a tabela users existe    $stmt = $conn->prepare("SHOW TABLES LIKE 'users'");    $stmt->execute();    $tableExists = $stmt->fetch();        if (!$tableExists) {        echo "❌ Tabela 'users' não existe!\n";        exit;    }        echo "✅ Tabela 'users' existe\n";        // Verificar usuários existentes    $stmt = $conn->prepare("SELECT id, name, email, username, user_type, active FROM users");    $stmt->execute();    $users = $stmt->fetchAll();        echo "\n👥 Usuários encontrados:\n";    foreach ($users as $user) {        echo "- ID: {$user['id']}, Nome: {$user['name']}, Email: {$user['email']}, Username: {$user['username']}, Tipo: {$user['user_type']}, Ativo: {$user['active']}\n";    }        // Testar login específico    $email = 'douglas@controllit.com.br';    $password = 'senha123';        echo "\n🔐 Testando login para: $email\n";        $stmt = $conn->prepare("        SELECT id, name, email, username, password_hash, user_type, active         FROM users         WHERE (username = ? OR email = ?) AND active = 1    ");    $stmt->execute([$email, $email]);    $user = $stmt->fetch();        if (!$user) {        echo "❌ Usuário não encontrado ou inativo\n";        exit;    }        echo "✅ Usuário encontrado: {$user['name']}\n";    echo "Hash da senha: {$user['password_hash']}\n";        // Testar verificação de senha    if (password_verify($password, $user['password_hash'])) {        echo "✅ Senha válida!\n";    } else {        echo "❌ Senha inválida!\n";                // Gerar novo hash        $newHash = password_hash($password, PASSWORD_DEFAULT);        echo "Novo hash gerado: $newHash\n";                // Atualizar no banco        $stmt = $conn->prepare("UPDATE users SET password_hash = ? WHERE id = ?");        $result = $stmt->execute([$newHash, $user['id']]);                if ($result) {            echo "✅ Hash atualizado no banco!\n";                        // Testar novamente            if (password_verify($password, $newHash)) {                echo "✅ Login deve funcionar agora!\n";            } else {                echo "❌ Ainda não funciona\n";            }        } else {            echo "❌ Erro ao atualizar hash\n";        }    }    } catch (Exception $e) {    echo "❌ Erro: " . $e->getMessage() . "\n";}?>