-- Script para configurar o banco de dados Controll IT Help Desk-- Execute este script no phpMyAdmin-- 1. Criar o banco de dadosCREATE DATABASE IF NOT EXISTS `helpdesk_titanium` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;-- 2. Usar o bancoUSE `helpdesk_titanium`;-- 3. Criar tabela de usuáriosCREATE TABLE IF NOT EXISTS `users` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `username` varchar(50) NOT NULL UNIQUE,  `email` varchar(100) NOT NULL UNIQUE,  `password` varchar(255) NOT NULL,  `name` varchar(100) NOT NULL,  `type` enum('user','support','admin') NOT NULL DEFAULT 'user',  `department` varchar(50) DEFAULT NULL,  `phone` varchar(20) DEFAULT NULL,  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  `is_active` tinyint(1) NOT NULL DEFAULT 1,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;-- 4. Criar tabela de ticketsCREATE TABLE IF NOT EXISTS `tickets` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `title` varchar(200) NOT NULL,  `description` text NOT NULL,  `status` enum('open','in_progress','resolved','closed') NOT NULL DEFAULT 'open',  `priority` enum('low','medium','high','urgent') NOT NULL DEFAULT 'medium',  `category` varchar(50) DEFAULT NULL,  `user_id` int(11) NOT NULL,  `assigned_to` int(11) DEFAULT NULL,  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  `resolved_at` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `user_id` (`user_id`),  KEY `assigned_to` (`assigned_to`),  FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,  FOREIGN KEY (`assigned_to`) REFERENCES `users` (`id`) ON DELETE SET NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;-- 5. Criar tabela de anexosCREATE TABLE IF NOT EXISTS `ticket_attachments` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `ticket_id` int(11) NOT NULL,  `filename` varchar(255) NOT NULL,  `original_filename` varchar(255) NOT NULL,  `file_path` varchar(500) NOT NULL,  `file_size` int(11) NOT NULL,  `mime_type` varchar(100) NOT NULL,  `uploaded_by` int(11) NOT NULL,  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  PRIMARY KEY (`id`),  KEY `ticket_id` (`ticket_id`),  KEY `uploaded_by` (`uploaded_by`),  FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE CASCADE,  FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`) ON DELETE CASCADE) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;-- 6. Criar tabela de logs de acessoCREATE TABLE IF NOT EXISTS `access_logs` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `user_id` int(11) DEFAULT NULL,  `ip_address` varchar(45) NOT NULL,  `user_agent` text NOT NULL,  `action` varchar(100) NOT NULL,  `resource` varchar(200) DEFAULT NULL,  `success` tinyint(1) NOT NULL DEFAULT 1,  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  PRIMARY KEY (`id`),  KEY `user_id` (`user_id`),  FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;-- 7. Inserir usuários de testeINSERT INTO `users` (`username`, `email`, `password`, `name`, `type`, `department`, `phone`) VALUES('admin', 'admin@controllit.com.br', '$2y$10$TKh8H1.PfQx37YgCzwiKb.KjNyWgaHb9cbcoQgdIVFlYg7B77UdFm', 'Administrador do Sistema', 'admin', 'TI', '11999999999'),('suporte', 'suporte@controllit.com.br', '$2y$10$TKh8H1.PfQx37YgCzwiKb.KjNyWgaHb9cbcoQgdIVFlYg7B77UdFm', 'Equipe de Suporte', 'support', 'Suporte', '11999999998'),('usuario', 'usuario@controllit.com.br', '$2y$10$TKh8H1.PfQx37YgCzwiKb.KjNyWgaHb9cbcoQgdIVFlYg7B77UdFm', 'Usuário Teste', 'user', 'Vendas', '11999999997');-- 8. Inserir alguns tickets de exemploINSERT INTO `tickets` (`title`, `description`, `status`, `priority`, `category`, `user_id`, `assigned_to`) VALUES('Problema com Login', 'Não consigo fazer login no sistema', 'open', 'high', 'Sistema', 3, 2),('Solicitação de Acesso', 'Preciso de acesso ao sistema de vendas', 'in_progress', 'medium', 'Acesso', 3, 2),('Bug no Relatório', 'Relatório de vendas não está funcionando', 'open', 'low', 'Relatórios', 3, 1);-- 9. Verificar se tudo foi criadoSELECT 'Banco de dados configurado com sucesso!' as status;SELECT COUNT(*) as total_usuarios FROM users;SELECT COUNT(*) as total_tickets FROM tickets;